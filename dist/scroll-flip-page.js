(function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ScrollFlipPage=e():t.ScrollFlipPage=e()})(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(6),o=n(2),s=o(i.a,r.a,!1,null,null,null);e.default=s.exports},function(t,e){t.exports=function(t,e,n,i,r,o){var s,a=t=t||{},c=typeof t.default;"object"!==c&&"function"!==c||(s=t,a=t.default);var u="function"==typeof a?a.options:a;e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0),n&&(u.functional=!0),r&&(u._scopeId=r);var h;if(o?(h=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},u._ssrRegister=h):i&&(h=i),h){var l=u.functional,f=l?u.render:u.beforeCreate;l?(u._injectStyles=h,u.render=function(t,e){return h.call(e),f(t,e)}):u.beforeCreate=f?[].concat(f,h):[h]}return{esModule:s,exports:a,options:u}}},function(t,e,n){"use strict";var i=n(4),r=n.n(i),o=n(5),s=n.n(o),a=function(t,e){for(var n in e)t[n]=e[n];return t},c=function(){},u={PULL_DOWN:"PULL_DOWN",LOAD_MORE:"LOAD_MORE",INIT_FETCH:"INIT_FETCH"};e.a={name:"ScrollFlipPage",data:function(){return{pageNum:0,currentData:[],noData:!1}},computed:{isNoData:function(){return this.noData||0===this.currentData.length}},model:{prop:"value",event:"set-data"},props:{scrollBar:{type:Boolean,default:!0},unidirectional:{type:Boolean,default:!1},bounce:{type:Boolean,default:!0},pullDown:{type:Object,default:function(){return{}}},loadMore:{type:Object,default:function(){return{}}},fetch:{type:Function,required:!0},dataField:{type:String,required:!0},check:{type:Function,required:!0},initial:{type:Boolean,default:!0},pageSize:{type:Number,default:20},startPage:{type:Number,default:0},interceptor:Function},methods:{scrollTo:function(t,e,n){this.fm[0].scrollTo(t,e,n)},loadEnd:function(){this.fm[0].loadEnd()},refresh:function(t){this.fm[0].refresh(t)},refreshSize:function(){this.fm[0].refreshSize()},getValueByField:function(t,e){var n=e.split("."),i=t;return n.forEach(function(t){try{i=i[t]}catch(t){console.error("Error accessing '"+e+"': "+t.toString())}}),i},setData:function(t){var e=this.interceptor&&this.interceptor(t);e?this.$emit("set-data",e):this.$emit("set-data",t)},fetchData:function(t){var e=this;return this.noData=!1,t=t||u.INIT_FETCH,t!==u.INIT_FETCH&&t!==u.PULL_DOWN||(this.pageNum=this.startPage),t===u.LOAD_MORE&&(this.pageNum+=1),this.fetch(this.pageNum).then(function(n){var i=e.getValueByField(n,e.dataField);e.check(n)?0===i.length&&e.pageNum===e.startPage?(e.$emit("on-nothing"),e.setData(i)):i.length<e.pageSize?(e.$emit("on-having"),e.noData=!0,t===u.INIT_FETCH&&(e.currentData=[],e.setData(i),e.$nextTick(function(){e.scrollTo(0,0)}),e.pageNum-=1),t===u.LOAD_MORE&&(e.setData(e.currentData.concat(i)),e.pageNum-=1,e.loadEnd()),t===u.PULL_DOWN&&(e.pageNum-=1,e.refresh(function(){e.setData(i)}))):(e.$emit("on-having"),e.currentData=t===u.LOAD_MORE?e.currentData.concat(i):i,t===u.INIT_FETCH&&(e.setData(e.currentData),e.$nextTick(function(){e.scrollTo(0,0)})),t===u.LOAD_MORE&&(e.setData(e.currentData),e.loadEnd()),t===u.PULL_DOWN&&e.refresh(function(){e.setData(e.currentData)})):(e.$emit("on-backend-error",n),t===u.LOAD_MORE&&(e.pageNum-=1,e.loadEnd()),t===u.PULL_DOWN&&e.refresh())}).catch(function(n){e.$emit("on-network-error",n),t===u.LOAD_MORE&&(e.pageNum-=1,e.loadEnd()),t===u.PULL_DOWN&&e.refresh()})},handlePullDown:function(){this.fetchData(u.PULL_DOWN),this.$emit("on-pull-refresh")},handleLoadMore:function(){this.fetchData(u.LOAD_MORE),this.$emit("on-load-more")},createInstance:function(){var t=this;if(this.fm)return void this.fm[0].refreshSize();this.fm=new r.a({el:this.$el,plugins:[s()({scrollBar:this.scrollBar,unidirectional:this.unidirectional,bounce:this.bounce,pullDown:a({use:!0,distance:50,onBegin:c,onActive:this.handlePullDown,onAfter:c},this.pullDown),loadMore:a({distance:10,onLoadMore:this.handleLoadMore},this.loadMore),onTouchStart:function(e){t.$emit("on-touchstart",e)},onTouchMove:function(e){t.$emit("on-touchmove",e)},onTouchEnd:function(e){t.$emit("on-touchend",e)},onTransMove:function(e){t.$emit("on-transmove",e)},onTransMoveEnd:function(e){t.$emit("on-transmove-end",e)},onMotionStop:function(e){t.$emit("on-motion-stop",e)}})]})}},mounted:function(){this.createInstance(),this.initial&&this.fetchData(u.INIT_FETCH)},updated:function(){this.createInstance()},created:function(){this.pageNum=this.startPage}}},function(t,e,n){(function(e,n){t.exports=n()})(0,function(){"use strict";function t(t){throw new TypeError(t)}function e(t){return Array.isArray(t)?t:Array.prototype.slice.call(t)}function n(t,e){return document.defaultView.getComputedStyle(t,null)[e]}function i(){return Date.now()}function r(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return e.forEach(function(e){for(var n in e)t[n]=e[n]}),t}function o(t,e){t.style.cssText=t.style.cssText+" "+e}function s(t,e){for(var n={top:0,left:0};e!==t;)n.top+=e.offsetTop,n.left+=e.offsetLeft,e=e.offsetParent;return n}function a(t,e){var n=t.compareDocumentPosition(e);return 0===n||20===n}function c(t){var e=n(t,"WebkitTransform");return!(!e||"none"===e)&&e.match(/[+-]?\d*[.]?\d+(?=,|\))/g).length>6}function u(t,e,n){var i="";t.transform=t.transform?t.transform:Object.create(null),t.transform[e]=n;for(var r in t.transform)switch(r){case"translateX":case"translateY":case"translateZ":i+=r+"("+t.transform[r]+"px) ";break;case"scaleX":case"scaleY":case"scaleZ":i+=r+"("+t.transform[r]+") ";break;case"rotateX":case"rotateY":case"rotateZ":case"skewX":case"skewY":i+=r+"("+t.transform[r]+"deg) "}o(t,"transform: "+i+"; -webkit-transform: "+i+";")}function h(t){var e=n(t,"WebkitTransform");e&&"none"!==e||u(t,"translateZ",.01),e=n(t,"WebkitTransform").match(/[+-]?\d*[.]?\d+(?=,|\))/g).map(function(t){return parseInt(t)});var i=e.length,r={},o=i>6;return r.translateX=o?e[12]:e[4],r.translateY=o?e[13]:e[5],r.translateZ=o?e[14]:0,r.scaleX=void 0!==t.transform.scaleX?t.transform.scaleX:1,r.scaleY=void 0!==t.transform.scaleY?t.transform.scaleY:1,r.scaleZ=void 0!==t.transform.scaleZ?t.transform.scaleZ:1,r.rotateX=void 0!==t.transform.rotateX?t.transform.rotateX:0,r.rotateY=void 0!==t.transform.rotateY?t.transform.rotateY:0,r.rotateZ=void 0!==t.transform.rotateZ?t.transform.rotateZ:0,r.skewX=void 0!==t.transform.skewX?t.transform.skewX:0,r.skewY=void 0!==t.transform.skewY?t.transform.skewY:0,r}function l(t){var e=t.map(function(t){return Math.abs(t)});return t[e.indexOf(Math.max.apply(null,e))]}function f(t,e,n){var i=document.elementFromPoint(e,n);return!!i&&a(t,i)}function d(t,e){return 0===e?0:-e/t*4}function p(t,e){return 0===e?0:e*e/(-2*t)}function g(t,e){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)}function m(t,n){return void 0!==n?t.touches[n]||{}:e(t.touches)}function v(t,n){return void 0!==n?t.changedTouches[n]||{}:e(t.changedTouches)}var y=requestAnimationFrame||webkitRequestAnimationFrame,b=cancelAnimationFrame||webkitCancelAnimationFrame,_={easeOutStrong:function(t,e,n,i){return-n*((t=t/i-1)*t*t*t-1)+e},backOut:function(t,e,n,i,r){return void 0===r&&(r=.7),n*((t=t/i-1)*t*((r+1)*t+r)+1)+e}},D=function(t){this.handle=t,this.id=0,this._init()};D.prototype._init=function(){this.start=i(),this.request()},D.prototype._fakeHandle=function(){var t=i()-this.start;this.handle(t)},D.prototype._requestAnimFn=function(t){return y?y(t):setTimeout(t,1e3/60)},D.prototype._cancelAnimFn=function(t){b?b(t):clearTimeout(t)},D.prototype.request=function(){this.id=this._requestAnimFn(this._fakeHandle.bind(this))},D.prototype.cancel=function(){this._cancelAnimFn(this.id)};var T={start:"start",stop:"stop"},S=0,x=function t(){this.moveStatus=T.stop,this.isArrivals=!1,this instanceof t||throwError("Moved is a constructor and should be called with the `new` keyword")};x.prototype.start=function(t){var e=this;if(this.moveStatus!==T.start){t=t||{};var n=t.el,i=t.target,r=t.type,o=t.time,s=t.endCallBack,a=t.inCallBack,c=t.s;this.isArrivals=!1,this.id=S++,this.el=n,this.target=i,this.type=r||"easeOutStrong",this.time=o<=1?1:o,this.endCallBack=s,this.inCallBack=a,this.currentPos={},this.moveStatus=T.start,this.b={},this.c={},this.d=this.time,this.s=c;for(var u in e.target)e.b[u]=h(e.el)[u],e.c[u]=e.target[u]-e.b[u],0===e.c[u]&&(e.isArrivals=!0);if(this.isArrivals)return this.endCallBack&&this.endCallBack(this.b),this.moveStatus=T.stop,!1;this.anim=new D(this._moveHandle.bind(this))}},x.prototype.stop=function(t){var e=this;if(this.moveStatus===T.stop)return this;this.moveStatus=T.stop,this.anim.cancel();for(var n in e.target)u(e.el,n,e.currentPos[n]);return t&&t(this.currentPos),this},x.prototype.transform=function(t,e,n){u(t,e,n)},x.prototype.getPropFromMatrix=function(t){return h(t)},x.prototype._moveHandle=function(t){var e=this;t=t>=this.d?this.d:t;for(var n in e.target)e.currentPos[n]=x.Tween[e.type](t,e.b[n],e.c[n],e.d,e.s),u(e.el,n,e.currentPos[n]);this.moveStatus=T.start,this.inCallBack&&this.inCallBack.call(this,this.currentPos),t>=this.d?this.stop(this.endCallBack):this.anim.request()},x.Tween=_;var E=0,Y=function(t){this.id=E++,this._init(t)};Y.prototype._init=function(t){var e=r({element:null,transTime:3e3},t);this.element=e.element,this.native=null,this.startTime=this.startX=this.startY=this.distanceX=this.distanceY=this.lastX=this.lastY=this.lastTime=this.xv=this.yv=this.xs=this.ys=this.xt=this.yt=this.xa=this.ya=this.transDistanceX=this.transDistanceY=0,this.transTime=e.transTime,this.direction={top:!1,bottom:!1,left:!1,right:!1,topLeft:!1,topRight:!1,bottomLeft:!1,bottomRight:!1},this.fingerInElement=!1,this.isMoveOut=!1,this.velocityQueueX=[],this.velocityQueueY=[]},Y.prototype.start=function(t){this.element&&(this.fingerInElement=f(this.element,t.clientX,t.clientY)),this.native=t,this.isMoveOut=!1,this.lastX=this.startX=t.pageX,this.lastY=this.startY=t.pageY,this.startTime=this.lastTime=i()},Y.prototype.move=function(t){if(this.element&&(this.fingerInElement=f(this.element,t.clientX,t.clientY),!this.fingerInElement))return this.isMoveOut||(this.end(t),this.isMoveOut=!0),!1;this.native=t,this.distanceX=t.pageX-this.startX,this.distanceY=t.pageY-this.startY,this.xs=t.pageX-this.lastX,this.lastX=t.pageX,this.ys=t.pageY-this.lastY,this.lastY=t.pageY,this.checkDirection();var e=i();this.xt=this.yt=e-this.lastTime||15,this.lastTime=e,this.xv=this.xs/this.xt,this.yv=this.ys/this.yt,this.velocityBufferQueue(),this.xv=l(this.velocityQueueX),this.yv=l(this.velocityQueueY),this.xa=d(this.transTime,this.xv),this.ya=d(this.transTime,this.yv)},Y.prototype.end=function(t){this.element&&(this.fingerInElement=f(this.element,t.clientX,t.clientY)),this.native=t,this.transDistanceX=p(this.xa,this.xv),this.transDistanceY=p(this.ya,this.yv)},Y.prototype.velocityBufferQueue=function(){this.velocityQueueX.length>1&&this.velocityQueueX.shift(),this.velocityQueueY.length>1&&this.velocityQueueY.shift(),this.velocityQueueX.push(this.xv),this.velocityQueueY.push(this.yv)},Y.prototype.checkDirection=function(){this.xs<0&&(this.direction.left=!0,this.direction.right=!1),0===this.xs&&(this.direction.left=!1,this.direction.right=!1),this.xs>0&&(this.direction.left=!1,this.direction.right=!0),this.ys<0&&(this.direction.top=!0,this.direction.bottom=!1),0===this.ys&&(this.direction.top=!1,this.direction.bottom=!1),this.ys>0&&(this.direction.top=!1,this.direction.bottom=!0),this.direction.topLeft=this.direction.top&&this.direction.left,this.direction.topRight=this.direction.top&&this.direction.right,this.direction.bottomLeft=this.direction.bottom&&this.direction.left,this.direction.bottomRight=this.direction.bottom&&this.direction.right},Y.prototype.takeover=function(t){var e=t;this.distanceX=e.distanceX,this.distanceY=e.distanceY,this.startX=this.lastX-this.distanceX,this.startY=this.lastY-this.distanceY,this.lastTime=i()};var M={touchstart:"touchstart",touchmove:"touchmove",touchend:"touchend",touchcancel:"touchcancel"},w=function(t){this.options=r({element:null,transTime:3e3},t),this.fingers=[],this.changeFingerIndex=0,this.fingerNumber=0};w.prototype.injectEvent=function(t){var e=this,n=t.type,i=(m(t),v(t));if(n===M.touchstart)for(var r=i.length,o=0;o<r;o++){var s=i[o].identifier,a=new Y(e.options);a.start(i[o]),0===e.fingerNumber&&(e.fingers.length=0),e.fingers.push(a);var c=e.getFingerById(e.fingers,s),u=(c.finger,c.pos);e.fingerNumber=e.fingers.length,e.changeFingerIndex=u}if(n===M.touchmove)for(var h=i.length,l=0;l<h;l++){var f=i[l].identifier,d=e.getFingerById(e.fingers,f),p=d.finger,g=d.pos;if(!p.fingerInElement)return e;e.fingerNumber=e.fingers.length,e.changeFingerIndex=g,p.move(i[l]),p.fingerInElement||e.forceRemove(d,i[l])}if(n===M.touchend||n===M.touchcancel){if(this.fingerNumber>=5&&n===M.touchcancel)return this.fingerNumber=0,this.fingers.length=0,this;for(var y=i.length,b=0;b<y;b++){var _=i[b].identifier,D=e.getFingerById(e.fingers,_);if(!D.finger.fingerInElement)return e;e.forceRemove(D,i[b])}}return this},w.prototype.getFingerPicth=function(t,e){return g({x:t.native.clientX,y:t.native.clientY},{x:e.native.clientX,y:e.native.clientY})},w.prototype.getScale=function(t,e){var n={x:t.startX,y:t.startY},i={x:e.startX,y:e.startY},r=g(n,i);return this.getFingerPicth(t,e)/r},w.prototype.getFingerById=function(t,e){for(var n=null,i=0,r=t.length,o=0;o<r;o++)if(t[o].native.identifier===e){n=t[o],i=o;break}return{finger:n,pos:i}},w.prototype.forceRemove=function(t,e){var n=t.finger,i=t.pos,r=this.fingers[i+1],o=this.fingers[i-1];this.changeFingerIndex=i,n.end(e),r?(r.takeover(n),this.fingers.splice(i,1),this.fingerNumber=this.fingers.length):o?(this.fingers.splice(i,1),this.fingerNumber=this.fingers.length):this.fingerNumber--};var O=function e(n){n=n||{},this instanceof e||t("Fmover is a constructor and should be called with the `new` keyword"),this._init(n)};return O.prototype._init=function(e){this.el="string"==typeof e.el?document.querySelector(e.el):e.el,this.el||t("This is an invalid selector: "+e.el),this.fingerd=new w({element:this.el}),this.plugins=e.plugins||[],this.pluginsStorage=[],this._initPlugins(),this._initStyle(),this._initEvents()},O.prototype._initPlugins=function(){for(var t=this,e=this.plugins.length,n=0;n<e;n++)t[n]=t.plugins[n](O),t.pluginsStorage.push(t[n]);for(var i=this.pluginsStorage.length,r=0;r<i;r++)t.pluginsStorage[r].init&&t.pluginsStorage[r].init(t)},O.prototype._initStyle=function(){c(this.el)||u(this.el,"translateZ",.01)},O.prototype._initEvents=function(){var t=this.el;t.addEventListener("touchstart",this._start.bind(this),!1),t.addEventListener("touchmove",this._move.bind(this),!1),t.addEventListener("touchend",this._end.bind(this),!1),t.addEventListener("touchcancel",this._cancel.bind(this),!1)},O.prototype._start=function(t){for(var e=this,n=this.fingerd.injectEvent(t),i=n.fingers.length,r=0;r<i;r++)n.fingers[r].el=e.el;for(var o=this.pluginsStorage.length,s=0;s<o;s++)e.pluginsStorage[s].start&&e.pluginsStorage[s].start(n)},O.prototype._move=function(t){for(var e,n=this,i=this.fingerd.injectEvent(t),r=this.pluginsStorage.length,o=0;o<r;o++)e=n.pluginsStorage[o].move&&n.pluginsStorage[o].move(i);void 0===e||e||t.stopPropagation(),t.preventDefault()},O.prototype._end=function(t){for(var e=this,n=this.fingerd.injectEvent(t),i=this.pluginsStorage.length,r=0;r<i;r++)e.pluginsStorage[r].end&&e.pluginsStorage[r].end(n)},O.prototype._cancel=function(t){for(var e=this,n=this.fingerd.injectEvent(t),i=this.pluginsStorage.length,r=0;r<i;r++)e.pluginsStorage[r].cancel&&e.pluginsStorage[r].cancel(n);t.preventDefault()},function(c){c.Moved=x,c.Fingerd=w,c.extend=r,c.now=i,c.getStyle=n,c.cssText=o,c.getPropFromMatrix=h,c.getRelativeRect=s,c.isInElement=a,c.throwError=t,c.toArray=e}(O),O})},function(t,e,n){(function(e,n){t.exports=n()})(0,function(){"use strict";return function(t){return function(e){function n(t,e){if(b)return void a(b,"height: "+e+"px;");b=document.createElement("span"),a(b,"\n                position: absolute;\n                z-index: 10000000;\n                top:0;\n                right: 3px;\n                width: 3px; \n                height: "+e+"px; \n                background-color: #000;\n                border-radius: 1.5px;\n                transition: opacity .2s;\n                -webkit-transition: opacity .2s;\n                transform: translateZ(0.01px);\n                opacity: 0;\n            "),t.appendChild(b)}function i(t){var e=t,n=0;e<Y?(n=4*(Y-e),n>_-D&&(n=_-D),e=Y):e>M&&(n=4*(e-M),n>_-D&&(n=_-D),e=M+n);var i=_-n;b.style.height=i+"px",w.transform(b,"translateY",e),w.transform(b,"translateZ",.01)}var r=e.Moved,o=(e.transform,e.getStyle),s=e.extend,a=e.cssText,c=e.getPropFromMatrix,u=e.getRelativeRect,h=e.isInElement,l=e.throwError,f=function(){},d=s({scrollBar:!0,bounce:!0,unidirectional:!1,pullDown:{use:!1,distance:50,onBegin:f,onActive:f,onAfter:f},loadMore:{distance:0,onLoadMore:f},onTouchStart:f,onTouchMove:f,onTouchEnd:f,onTransMove:f,onTransMoveEnd:f,onMotionStop:f},t),p=null,g=null,m=0,v=0,y=0,b=null,_=0,D=7,T=0,S=0,x=0,E=0,Y=0,M=0,w=new r,O=0,k=0,X="easeOutStrong",F=0,N=!1,I=!1,L=!1,B=!1,P=0,A=!1,C=!1,R=!1,$=!1,j=!1,Z=!1,q=f,H=f,Q={},z=!1,W=!1,U=d.scrollBar;return{init:function(t){p=t.el,g=p.parentNode,"static"===o(p,"position")&&a(p,"position: relative; z-index: 10;"),"static"===o(g,"position")&&a(g,"position: relative;"),this.refreshSize()},start:function(t){t.fingers[0];X="easeOutStrong",I=!1,$="stop"!==w.moveStatus,L=!1,B=!1,z=!1,W=!1,Q={},O>T&&(O/=.5),$||d.onTouchStart($),w.stop(function(t){R=!1,P=O=t.translateY,d.onTouchStart(!0),d.onMotionStop(P)})},move:function(t){if("start"===w.moveStatus)return!1;R=!0;var e=t.fingers[0];if(!e.fingerInElement)return I||(I=!0,this.makeMove(e)),!1;if(Q=e.direction,(Q.top||Q.bottom)&&!z&&Math.abs(e.distanceY)>=10&&(W=!0),(Q.left||Q.right)&&!W&&Math.abs(e.distanceX)>=10&&(z=!0),Math.abs(e.distanceY)<10&&Math.abs(e.distanceX)<10)return!1;if(W||!d.unidirectional){var n=e.distanceY>0?e.distanceY-10:e.distanceY+10;P=O+n,P>T||x>0?P=d.bounce?T+.5*(P-T):T:P<x&&(P=d.bounce?x+.5*(P-x):x),P<=E&&!C&&Q.top&&(C=!0,d.loadMore.onLoadMore.call(this)),w.transform(e.el,"translateY",P),d.scrollBar&&(a(b,"opacity: .4;"),i(-P*y)),d.pullDown&&d.pullDown.use&&P>0&&!A&&d.pullDown.onBegin&&d.pullDown.onBegin.call(this,P),d.onTouchMove.call(this,P)}return!(W&&d.unidirectional||$)&&void 0},end:function(t){if(z&&!N)return d.onTouchEnd(w.moveStatus),!1;var e=t.fingers[0],n=t.changeFingerIndex,i=t.fingerNumber,r=e.fingerInElement;R=!1,0===n&&0===i&&r&&this.makeMove(e),d.onTouchEnd("start"===w.moveStatus)},cancel:function(t){var e=t.fingers[0],n=t.changeFingerIndex,i=t.fingerNumber,r=e.fingerInElement;0===n&&0===i&&r&&(O+=e.distanceY)},makeMove:function(t){function e(e){var i=Math.abs(e-O)/Math.abs(t.transDistanceY)*t.transTime;return i<500?(i=500,n=2):i>2e3&&(i=2e3),i}var n;if(F=t.transTime,O=P,k=O+t.transDistanceY,d.pullDown&&d.pullDown.use&&O>=d.pullDown.distance&&!A)return A=!0,d.pullDown.onActive&&d.pullDown.onActive.call(this),T+=d.pullDown.distance,void this.scrollTo(d.pullDown.distance,300);d.pullDown&&d.pullDown.use&&O>T&&(B=!0),O>T||x>0?(k=T,X="easeOutStrong",F=d.bounce?500:t.transTime,N=!0):O<x?(k=x,X="easeOutStrong",F=d.bounce?500:t.transTime,N=!0):k<x?d.bounce?(k=x,X="backOut",F=e(x)):X="easeOutStrong":k>T&&(d.bounce?(k=T,X="backOut",F=e(T)):X="easeOutStrong"),Math.abs(t.transDistanceY)>100||N?this.wrapMove(k,F,X,n):(d.scrollBar&&"start"!==w.moveStatus&&a(b,"opacity: 0;"),j&&this.refresh(),Z&&this.loadEnd())},wrapMove:function(t,e,n,r){var o=this;w.start({el:p,target:{translateY:t},type:n,time:e,s:r||.7,inCallBack:function(t){O=t.translateY,d.bounce||(O>=T&&w.stop(function(t){O=T,w.transform(p,"translateY",O)}),O<=x&&w.stop(function(t){O=x,w.transform(p,"translateY",x)})),O<=E&&!C&&Q.top&&(C=!0,d.loadMore.onLoadMore.call(o)),B&&d.pullDown.onAfter(t.translateY),d.scrollBar&&i(-t.translateY*y),d.onTransMove.call(this,O)},endCallBack:function(t){O=t.translateY,j&&o.refresh(),Z&&o.loadEnd(),d.scrollBar&&a(b,"opacity: 0;"),d.onTransMoveEnd.call(this,O),$=!1,N=!1,d.onMotionStop(O)}})},scrollTo:function(t,e,n){var i;"string"==typeof t?i=document.querySelector(t):t instanceof Element&&(i=t),i&&(h(p,i)||l("ScrollTo function argument error, `child` must be a child of `parent`"),t=-u(p,i).top),n&&(t>T||x>0)?t=T:n&&t<x&&(t=x),P=O=t,w.stop(),this.wrapMove(t,e,"easeOutStrong")},loadEnd:function(t){if("start"===w.moveStatus||R)return Z=!0,H=t||f,!1;(t||H)(),Z=!1,C=!1,this.refreshSize()},refresh:function(t){if("start"===w.moveStatus||R)return j=!0,q=t||f,!1;(t||q)(),A=!1,j=!1,T=S,this.refreshSize(),c(p).translateY>T&&(B=!0,this.scrollTo(T,500))},refreshSize:function(){m=parseFloat(o(p,"height")),v=g.clientHeight,x=v-m,S=T=0,E=x<0?x+d.loadMore.distance:0,d.scrollBar=!(x>=0)&&U,d.scrollBar&&(y=v/m,_=v*y,D=_<D?_:D,Y=-T*y,M=-x*y,n(g,_))}}}}})},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._t("pulldown"),t._v(" "),t._t("default"),t._v(" "),t._t("loadmore",null,{isNoData:t.isNoData})],2)},r=[],o={render:i,staticRenderFns:r};e.a=o}])});